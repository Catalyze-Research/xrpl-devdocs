# 최대 피어 수 설정

rippled 서버에는 연결할 수 있는 소프트 최대 피어 수를 구성할 수 있습니다. 기본 최대 피어 수는 21명입니다.

{% hint style="info" %}
Note:

내부적으로 서버는 수신 및 발신 피어에 대한 대략적인 할당량을 생성합니다. 고정 피어, 피어 예약을 사용하거나 연결 방법을 사용하여 수동으로 추가 피어에 연결하는 경우 소프트 최대치를 초과할 수 있습니다.
{% endhint %}

서버에서 허용하는 최대 피어 수를 변경하려면 다음 단계를 완료하세요:

1. rippled의 설정 파일을 편집합니다.

```
$ vim /etc/opt/ripple/rippled.cfg
```

권장 설치는 기본적으로 구성 파일 /etc/opt/ripple/rippled.cfg를 사용합니다. 구성 파일을 저장할 수 있는 다른 위치로는 $HOME/.config/ripple/rippled.cfg(여기서 $HOME은 rippled를 실행하는 사용자의 홈 디렉터리), $HOME/.local/ripple/rippled.cfg 또는 rippled를 시작한 현재 작업 디렉터리 등이 있습니다.

2. 구성 파일에서 \[peers\_max] 구절의 주석 처리를 해제하고 편집하거나, 아직 없는 경우 추가합니다:

```
[peers_max]
30
```

구절의 유일한 내용은 허용할 총 피어 수를 나타내는 정수여야 합니다. 기본적으로 서버는 약 85%의 수신 피어와 15%의 발신 피어 비율을 유지하려고 시도하지만 최소 10개의 발신 피어를 허용하므로 68보다 작은 값은 서버의 발신 피어 연결 수를 증가시키지 않습니다.\
\[peers\_max] 값이 10 미만인 경우에도 서버는 네트워크와의 연결을 유지할 수 있도록 하드코딩된 최소 10개의 발신 피어를 허용합니다. 모든 발신 피어 연결을 차단하려면 대신 서버를 비공개 피어로 구성하세요.

{% hint style="info" %}
Caution:

연결된 피어 서버가 많을수록 rippled 서버가 사용하는 네트워크 대역폭이 늘어납니다. rippled 서버의 네트워크 연결 상태가 양호하고 rippled 서버가 사용하는 대역폭으로 인해 발생할 수 있는 비용을 감당할 수 있는 경우에만 많은 수의 피어 서버를 구성해야 합니다.&#x20;
{% endhint %}

3. rippled 서버를 다시 시작합니다.

```
$ sudo systemctl restart rippled.service
```
