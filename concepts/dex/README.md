# 탈중앙화 거래소 (DEX)

XRP Ledger는 2012년 XRP Ledger가 출시된 이후로 연속적으로 운영되어온 세계에서 아마도 가장 오래된 탈중앙화 거래소(DEX)를 갖고 있습니다. 이 거래소는 사용자들이 XRP나 다른 [토큰](../undefined-3/)을 구매하고 판매할 수 있도록 해주며, 네트워크에 지불되는 [수수료](../transactions/fees.md)는 최소화됩니다(어떤 당사자에게도 지급되지 않음).

{% hint style="info" %}
Caution:

누구나 자신이 원하는 어떤 화폐 코드나 티커 심볼을 가진 [토큰을 발행](../../tutorials/undefined-5/undefined.md)하고 탈중앙화 거래소에서 판매할 수 있습니다. 토큰을 구매하기 전에 항상 신중을 기하고 발행자에 주의를 기울이세요. 그렇지 않으면 가치 있는 것을 포기하고 무가치한 토큰을 받게 될 수 있습니다.
{% endhint %}

## 구조&#x20;

구조 XRP Ledger의 탈중앙화 거래소는 필요할 때마다 추적되는 무제한의 화폐 쌍으로 구성됩니다. 화폐 쌍은 XRP와 토큰 또는 두 개의 다른 토큰으로 구성될 수 있으며, 토큰은 발행자와 화폐 코드의 조합으로 항상 식별됩니다. 동일한 화폐 코드와 다른 발행자 또는 동일한 발행자와 다른 화폐 코드로 두 개의 토큰 사이를 거래할 수 있습니다.

XRP Ledger의 모든 변경 사항과 마찬가지로 거래를 수행하려면 [트랜잭션](../transactions/)을 보내야 합니다. XRP Ledger의 거래를 제안이라고 부릅니다. 제안은 특정한 양의 화폐(XRP 또는 토큰)를 특정한 양의 다른 화폐와 교환하는 [_한정가 주문_](https://en.wikipedia.org/wiki/Order\_\(exchange\)#Limit\_order)의 형태입니다. 네트워크가 제안을 실행할 때, 동일한 화폐 쌍에 대한 일치하는 제안이 있다면 최상의 환율부터 소비됩니다.

제안은 완전히 또는 부분적으로 체결될 수 있으며, 체결되지 않은 부분은 남아있는 금액에 대해 ledger에 수동적인 제안 객체로 남게 됩니다. 나중에 다른 제안이나 [교차 화폐 결제](../undefined-2/undefined.md)가 제안과 일치하여 소비할 수 있습니다. 이로 인해 제안은 초기에 요청한 환율보다 더 나은 환율로 체결될 수도 있으며, 반올림을 사용하여 정확한 환율로 체결될 수도 있습니다.

제안은 배치된 후 수동적으로 또는 자동으로 취소될 수 있습니다. 제안의 자세한 내용 및 기타 속성에 대해서는 [제안](../../references/xrp-ledger/ledger/ledger-1/offer.md) 문서를 참조하십시오.

두 개의 토큰을 거래할 때, [자동 브리징](auto-bridging.md)은 직접 토큰 간 거래보다 토큰-XRP 및 XRP-토큰으로 자동 거래하는 것이 더 저렴한 경우에 환율 및 유동성을 개선합니다.

## 예시 거래

<figure><img src="https://xrpl.org/img/decentralized-exchange-example-trade.svg" alt=""><figcaption></figcaption></figure>

위 다이어그램은 탈중앙화 거래소에서의 거래 예를 보여줍니다. 이 예에서, Tran이라는 트레이더가 WayGate라는 가상의 회사가 발행한 통화 코드 FOO로 100개의 토큰을 사려는 제안을 제시합니다. ("FOO.WayGate"는 이 토큰들을 의미합니다.) Tran은 전체에 대해 최대 1000 XRP를 지불하려고 지정합니다. Tran의 거래가 처리될 때, 다음과 같은 일들이 발생합니다:

1. 네트워크는 Tran의 제안의 환율을 계산합니다. 이는 구매하려는 금액을 지불하려는 금액으로 나누어 계산합니다.&#x20;
2. 네트워크는 Tran의 제안의 반대 순서에 대한 오더북을 찾습니다: 이 경우, FOO.WayGate를 판매하고 XRP를 구매하는 오더북을 의미합니다. 이 오더북을 이미 여러 다른 트레이더들로부터 다양한 금액과 환율에 대한 여러 제안들을 가지고 있습니다.&#x20;
3. Tran의 제안은 매치되는 제안들을 "소비"합니다. 이는 최선의 환율부터 시작하여, Tran의 제안이 완전히 채워지거나, Tran의 제안에 명시된 환율 이상의 환율을 가진 제안이 더 이상 없을 때까지 계속됩니다. 이 예에서는 요청된 환율 또는 그 이상의 환율로 22 FOO.WayGate만이 가능합니다. 소비된 제안들은 오더북에서 제거됩니다.&#x20;
4. Tran은 이전에 그것을 판매하려는 주문을 제시한 여러 트레이더들로부터 거래가 획득할 수 있었던 FOO.WayGate의 양을 받습니다. 이 토큰들은 Tran의 WayGate에 대한 FOO에 대한 [신뢰선](../undefined-3/undefined.md)으로 갑니다. (Tran이 이미 그 신뢰선을 가지고 있지 않았다면, 자동으로 생성됩니다.)&#x20;
5. 대신, 그 트레이더들은 그들이 명시한 환율에 따라 Tran으로부터 XRP를 받습니다.&#x20;
6. 네트워크는 Tran의 제안의 나머지를 계산합니다: 원래의 제안이 100 FOO.WayGate를 사려고 했고, 지금까지 Tran이 받은 것은 22이므로, 나머지는 78 FOO.WayGate입니다. 원래의 환율을 사용하면, 이는 Tran의 제안의 나머지가 이제 78 FOO.WayGate를 780 XRP에 사려는 것을 의미합니다.&#x20;
7. 그 결과 "나머지"는 Tran의 거래와 같은 방향으로 거래를 위한 오더북에 배치됩니다: 즉, XRP를 판매하고 FOO.WayGate를 구매합니다.&#x20;

나중의 거래들, 특히 Tran의 거래 바로 후에 실행되는 거래들은, 그들의 거래에 대해 업데이트된 오더북을 사용하므로, 그들은 Tran의 제안의 일부 또는 전체를 소비할 수 있습니다. 이는 완전히 채워지거나 Tran이 취소할 때까지입니다.

{% hint style="info" %}
Note:

ledger가 닫히고 유효성이 검증될 때 거래 순서가 실행되는 표준 주문은 거래가 전송된 순서와 같지 않습니다. 여러 거래가 같은 ledger에서 같은 오더북에 영향을 미칠 때, 그 거래의 최종 결과는 거래 제출 시점에 계산된 잠정 결과와 매우 다를 수 있습니다. 거래 [결과의 불변성](../transactions/finality-of-results/)에 대한 자세한 내용은 결과의 불변성을 참조하십시오.
{% endhint %}

## 제한 사항&#x20;

탈중앙화 거래소는 다음과 같은 제한 사항으로 설계되었습니다:

거래는 새로운 ledger가 종료될 때마다(대략적으로 3-5초마다)만 실행되므로, XRP Ledger는 [고주파 거래](https://en.wikipedia.org/wiki/High-frequency\_trading)에 적합하지 않습니다. ledger 내에서 주문 거래가 실행되는 것은 예측할 수 없게 설계되어, [선두 주문](https://en.wikipedia.org/wiki/Front\_running)을 방지합니다.

XRP Ledger는 원시적으로 시장 주문, 정지 주문, 레버리지 거래 등의 개념을 표현하지 않습니다. 이들 중 일부는 사용자 정의 토큰과 제안 속성을 창의적으로 사용하여 가능할 수 있습니다.

탈중앙화 시스템으로서 XRP Ledger는 거래에 참여하는 계정 뒤의 실제 사람들과 조직들에 대한 정보를 가지고 있지 않습니다. ledger 자체는 누가 거래에 참여할 수 있는지, 또는 참여할 수 없는지에 대한 제한을 구현할 수 없습니다, 그리고 사용자들과 발행자들은 다양한 종류의 기본 자산을 대표하는 토큰 거래를 규제하기 위해 관련 법률을 준수해야 합니다. 기능들 중에는 [동결](../undefined-3/undefined-2/)과 [승인된 신뢰선](../undefined-3/undefined-1.md)과 같은 것들이 있으며, 이들은 발행자가 관련 법률 및 규정을 준수하는데 도움을 주도록 의도 되었습니다.
