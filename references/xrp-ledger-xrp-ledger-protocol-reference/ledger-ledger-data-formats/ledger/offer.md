# Offer

제안 ledger 항목은 XRP Ledger의 탈중앙화 트랜잭션소에서 화폐를 교환하는 제안을 설명합니다. (금융권에서는 이를 전통적으로 주문이라고 합니다.) 제안 생성 트랜잭션은 ledger에 이미 있는 다른 제안을 소모하여 제안을 즉시 완전히 실행할 수 없는 경우에만 ledger에 제안 항목을 생성합니다.

제안은 ledger에 남아 있는 동안 네트워크의 다른 활동을 통해 펀딩되지 않을 수 있습니다. 트랜잭션을 처리할 때 네트워크는 해당 트랜잭션에서 발견되는 미펀딩 제안을 자동으로 정리합니다. (그렇지 않으면 트랜잭션만 ledger 상태를 변경할 수 있으므로 미펀딩 제안은 그대로 남아 있습니다.)

## 제안 JSON 예시

```
{
    "Account": "rBqb89MRQJnMPq8wTwEbtz4kvxrEDfcYvt",
    "BookDirectory": "ACC27DE91DBA86FC509069EAF4BC511D73128B780F2E54BF5E07A369E2446000",
    "BookNode": "0000000000000000",
    "Flags": 131072,
    "LedgerEntryType": "Offer",
    "OwnerNode": "0000000000000000",
    "PreviousTxnID": "F0AB71E777B2DA54B86231E19B82554EF1F8211F92ECA473121C655BFC5329BF",
    "PreviousTxnLgrSeq": 14524914,
    "Sequence": 866,
    "TakerGets": {
        "currency": "XAG",
        "issuer": "r9Dr5xwkeLegBeXq6ujinjSBLQzQ1zQGjH",
        "value": "37"
    },
    "TakerPays": "79550000000",
    "index": "96F76F27D8A327FC48753167EC04A46AA0E382E6F57F32FD12274144D00F1797"
}
```

## 제안 필드

제안 객체에는 다음과 같은 필드가 있습니다:

| 이름                  | JSON 유형   | 내부 유형  | 필수 여부 | 설명                                                                                                                                             |
| ------------------- | --------- | ------ | ----- | ---------------------------------------------------------------------------------------------------------------------------------------------- |
| `Account`           | 문자열       | 계정 ID  | 예     | 이 제안을 소유한 계정의 주소입니다.                                                                                                                           |
| `BookDirectory`     | 문자열       | 해시256  | 예     | 이 제안에 연결되는 제안 디렉터리의 ID입니다.                                                                                                                     |
| `BookNode`          | 문자열       | UInt64 | 예     | 디렉터리가 여러 페이지로 구성된 경우 제안 디렉터리의 어느 페이지가 이 개체에 연결되는지를 나타내는 힌트입니다.                                                                                 |
| `Expiration`        | 숫자        | UInt32 | 아니요   | 이 제안이 펀딩되지 않은 것으로 간주되는 시간을 나타냅니다. 자세한 내용은 시간 지정을 참조하십시오.                                                                                       |
| `Flags`             | 숫자        | UInt32 | 예     | 이 제안에 대해 활성화된 boolean 플래그의 비트맵입니다.                                                                                                             |
| `LedgerEntryType`   | 문자열       | UInt16 | 예     | 제안 문자열에 매핑된 0x006F 값은 이 객체가 제안을 설명함을 나타냅니다.                                                                                                    |
| `OwnerNode`         | 문자열       | UInt64 | 예     | 디렉터리가 여러 페이지로 구성된 경우 소유자 디렉터리의 어느 페이지가 이 오브젝트에 연결되는지를 나타내는 힌트입니다. **참고:** 해당 값은 계정에서 파생될 수 있으므로 제안에는 제안이 포함된 소유자 디렉터리에 대한 직접 링크가 포함되어 있지 않습니다. |
| `PreviousTxnID`     | 문자열       | 해시256  | 예     | 이 개체를 가장 최근에 수정한 트랜잭션의 식별 해시입니다.                                                                                                               |
| `PreviousTxnLgrSeq` | 숫자        | UInt32 | 예     | 가장 최근에 이 개체를 수정한 트랜잭션이 포함된 ledger의 인덱스입니다.                                                                                                     |
| `Sequence`          | 숫자        | UInt32 | 예     | 이 제안 객체를 생성한 제안 생성 트랜잭션의 시퀀스 값입니다. 계정과 함께 이 제안을 식별하는 데 사용됩니다.                                                                                  |
| `TakerPays`         | 문자열 또는 객체 | 금액     | 예     | 제안 생성자가 요청한 남은 금액과 통화 유형입니다.                                                                                                                   |
| `TakerGets`         | 문자열 또는 객체 | 금액     | 예     | 제안 생성자가 제공한 남은 금액과 통화 유형입니다.                                                                                                                   |

## 제안 플래그

제안 플래그는 제안 오브젝트를 생성하는 제안 크리에이트 트랜잭션이 활성화 또는 비활성화할 수 있는 몇 가지 옵션이 있습니다. ledger에서 플래그는 비트 또는 연산으로 결합할 수 있는 이진 값으로 표시됩니다. ledger에 있는 플래그의 비트 값은 트랜잭션에서 해당 플래그를 활성화 또는 비활성화하는 데 사용되는 값과 다릅니다. ledger 플래그의 이름은 lsf로 시작합니다.

제안 객체는 다음과 같은 플래그 값을 가질 수 있습니다:

| 플래그 이름       | 16진수 값       | 소수점 값  | 해당 OfferCreate 플래그 | 설명                                                                                                                                  |
| ------------ | ------------ | ------ | ------------------ | ----------------------------------------------------------------------------------------------------------------------------------- |
| `lsfPassive` | `0x00010000` | 65536  | `tfPassive`        | 객체가 수동 제안으로 배치되었습니다. 이는 ledger의 객체에는 영향을 미치지 않습니다.                                                                                  |
| `lsfSell`    | `0x00020000` | 131072 | `tfSell`           | 객체가 판매 제안으로 배치되었습니다. 이는 ledger의 객체에는 아무런 영향을 미치지 않습니다(요청한 가격보다 더 좋은 가격을 받을 경우에만 tfSell이 중요하며, 객체가 ledger에 들어온 이후에는 발생할 수 없기 때문입니다). |

## 제안 ID 형식

제안 객체의 ID는 다음 값의 절반을 순서대로 연결한 SHA-512입니다:

* 제안 공백 키(0x006F)
* 제안을 배치하는 계정의 계정 ID
* 제안을 생성한 제안 생성 트랜잭션의 시퀀스 번호입니다.\
  제안 생성 트랜잭션이 티켓을 사용한 경우, 대신 티켓 시퀀스 값을 사용합니다.

&#x20;
