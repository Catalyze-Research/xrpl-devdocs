# rippled 커맨드라인 사용 참조

rippled 실행 파일은 일반적으로 XRP Ledger을 구동하는 데몬으로 실행되지만, 다른 모드로도 실행할 수 있습니다. 이 페이지에서는 커맨드라인에서 rippled을 실행할 때 rippled에 전달할 수 있는 모든 옵션을 설명합니다.

## 사용 가능한 모드

* 데몬 모드 - 기본값입니다. XRP Ledger에 연결하여 트랜잭션을 처리하고 ledger 데이터베이스를 구축합니다.
* stand-alone 모드 -  -a 또는 --standalone 옵션을 사용합니다. 데몬 모드와 비슷하지만 다른 서버에 연결하지 않는다는 점이 다릅니다. 이 모드를 사용하여 트랜잭션 처리 또는 기타 기능을 테스트할 수 있습니다.
* 클라이언트 모드 - 다른 rippled 서버에 JSON-RPC 클라이언트로 연결하기 위한 API 메소드 이름을 지정한 다음 종료합니다. 실행 파일이 이미 다른 프로세스에서 실행 중인 경우 서버 상태와 ledger 데이터를 조회하는 데 사용할 수 있습니다.
* 기타 사용법 - 다음 명령을 각각 실행하면 Ripple 실행 파일이 일부 정보를 인쇄한 다음 종료됩니다:
  * 도움말 - -h 또는 --help를 사용하여 사용 설명을 인쇄합니다.
  * 단위 테스트 - 단위 테스트를 실행하고 결과 요약을 인쇄하려면 -u 또는 --unittest를 사용합니다. Ripple을 성공적으로 컴파일했는지 확인하는 데 유용할 수 있습니다.
  * 버전 문 - --version을 사용하여 Ripple이 버전 번호를 인쇄하도록 한 다음 종료합니다.

## 일반 옵션

이 옵션은 대부분의 모드에 적용됩니다:

| 옵션              | 설명                                                                                                                                                                                                                                     |
| --------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `--conf {FILE}` | 기본 위치에서 구성 파일을 찾는 대신 {FILE}을 구성 파일로 사용합니다. 지정하지 않으면 rippled가 먼저 로컬 작업 디렉터리에서 rippled.cfg 파일을 확인합니다. Linux에서 해당 파일을 찾을 수 없는 경우, 리플은 다음으로 $XDG\_CONFIG\_HOME/ripple/ripple.cfg를 확인합니다. (일반적으로 $XDG\_CONFIG\_HOME은 $HOME/.config에 매핑됩니다.) |

## 상세도 옵션

다음 일반 옵션은 표준 출력 및 로그 파일에 기록되는 정보의 양에 영향을 줍니다:

| 옵션          | 짧은 버전 | 설명                                                                             |
| ----------- | ----- | ------------------------------------------------------------------------------ |
| `--debug`   |       | DEPRECATED 추적 수준 디버깅을 사용합니다(--verbose의 별칭). 대신 log\_level 메서드를 사용합니다.          |
| `--silent`  |       | 시작 중에 표준 아웃 및 표준 오류에 로그를 기록하지 않습니다. 중복 로깅을 줄이기 위해 시스템 단위로 rippled 시작할 때 권장됩니다. |
| `--verbose` | `-v`  | DEPRECATED 추적 수준 디버깅을 활성화합니다. 대신 log\_level 메서드를 사용합니다.                        |

## 데몬 모드 옵션

```
rippled [OPTIONS]
```

데몬 모드는 Ripple의 기본 작동 모드입니다. 일반 옵션 외에도 다음 중 하나를 제공할 수 있습니다:

| 옵션                  | 설명                                                                                                                                                                                                                                                                                                                                   |
| ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `--fg`              | 데몬을 포그라운드에서 단일 프로세스로 실행합니다. 그렇지 않으면, 리플은 첫 번째 프로세스가 모니터로 실행되는 동안 데몬을 위한 두 번째 프로세스를 포크합니다.                                                                                                                                                                                                                                            |
| `--import`          | 완전히 시작하기 전에 다른 리플 서버의 원장 저장소에서 원장 데이터를 가져옵니다. 구성 파일에 유효한 \[import\_db] 스탠자가 필요합니다.                                                                                                                                                                                                                                                   |
| `--newnodeid`       | 서버에 대한 임의의 노드 ID를 생성합니다.                                                                                                                                                                                                                                                                                                             |
| `--nodeid {VALUE}`  | 노드 ID를 지정합니다. {VALUE} 는 서버를 실행하는 컨테이너 또는 하드웨어와 관련된 매개변수(예: $HOSTNAME)일 수도 있습니다.                                                                                                                                                                                                                                                      |
| `--nodetoshard`     | 완전히 시작하기 전에 전체 히스토리 샤드를 원장 저장소에서 샤드 저장소로 샤드 저장소의 구성된 최대 디스크 공간까지 복사합니다. 많은 양의 CPU와 I/O를 사용합니다. 주의: 이 명령은 데이터를 이동하는 대신 복사하므로 샤드 저장소와 원장 저장소 모두에 데이터를 저장할 수 있는 충분한 디스크 공간이 있어야 합니다.                                                                                                                                                    |
| `--quorum {QUORUM}` | 이 옵션은 테스트 네트워크를 시작하기 위한 것입니다. 쿼럼} 신뢰할 수 있는 유효성 검사자의 동의를 요구하여 유효성 검사를 위한 최소 쿼럼을 재정의합니다. 기본적으로 유효성 검사를 위한 쿼럼은 신뢰할 수 있는 유효성 검사자의 수에 따라 안전한 수로 자동 설정됩니다. 일부 유효성 검사자가 온라인 상태가 아닌 경우 이 옵션을 사용하면 정상 쿼럼보다 낮은 쿼럼으로 진행할 수 있습니다. 경고: 쿼럼을 수동으로 설정하면 서버가 나머지 네트워크와 분리되지 않도록 하기에는 너무 낮을 수 있습니다. 합의에 대한 깊은 이해가 있고 비표준 구성을 사용해야 하는 경우에만 이 옵션을 사용하세요. |

다음 옵션이 제거되었습니다: --validateShards.[![Removed in: rippled 1.7.0](https://img.shields.io/badge/Removed%20in-rippled%201.7.0-red.svg)](https://github.com/ripple/rippled/releases/tag/1.7.0)&#x20;

## stand-alone 모드 옵션

```
rippled --standalone [OPTIONS]
rippled -a [OPTIONS]
```

stand-alone 모드로 실행합니다. 이 모드에서는 Ripple이 네트워크에 연결하거나 컨센서스를 수행하지 않습니다. (그렇지 않으면 rippled은 데몬 모드로 실행됩니다.)

## 초기 ledger 옵션

다음 옵션은 시작할 때 먼저 로드할 ledger을 결정합니다. 이러한 옵션은 과거 ledger을 재생하거나 테스트 네트워크를 시작하기 위한 것입니다.

| 옵션                    | 설명                                                                                                                                                                                   |
| --------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `--ledger {LEDGER}`   | `{LEDGER}`로 식별되는 원장 버전을 로드합니다. 로 식별되는 원장 버전(원장 해시 또는 원장 인덱스)을 초기 원장으로 로드합니다. 지정된 원장 버전은 서버의 원장 저장소에 있어야 합니다.                                                                         |
| `--ledgerfile {FILE}` | 지정된 {FILE}에서 원장의 버전을 로드하며, 이 파일에는 전체 원장이 JSON 형식으로 포함되어 있어야 합니다. 이러한 파일의 예는 제공된 ledger-file.json을 참조하세요.                                                                             |
| `--load`              | 초기 원장을 로드할 때 디스크의 원장 저장소만 사용합니다.                                                                                                                                                     |
| `--net`               | 초기 원장을 로드할 때 네트워크의 데이터만 사용합니다.                                                                                                                                                       |
| `--replay`            | 특정 원장을 재생하려면 --ledger와 함께 사용합니다. 서버에 해당 원장과 그 직계 조상이 이미 원장 저장소에 있어야 합니다. 서버는 이전 원장을 기본으로 사용하여 지정된 원장의 모든 트랜잭션을 처리하여 지정된 원장을 다시 생성합니다. 디버거를 사용하면 중단점을 추가하여 특정 트랜잭션 처리 로직을 분석할 수 있습니다. |
| `--start`             | 기본 투표를 기반으로 알려진 수정안이 활성화된 새 제네시스 원장으로 시작합니다. 이렇게 하면 수정안 프로세스를 위해 2주 동안 기다릴 필요 없이 해당 수정안의 기능을 바로 사용할 수 있습니다. 참고 항목: 독립형 모드에서 새 제네시스 장부 시작하기.                                          |
| `--valid`             | 네트워크와 완전히 동기화되기 전에도 초기 원장을 유효한 네트워크 원장으로 간주합니다. 이는 네트워크 검증자의 80%가 거의 동시에 동일한 원장을 로드하는 한, 네트워크를 시작하거나 전체 네트워크를 알려진 이전 상태로 롤백하는 데 사용할 수 있습니다.                                          |

## 클라이언트 모드 옵션

```
rippled [OPTIONS] -- {COMMAND} {COMMAND_PARAMETERS}
```

클라이언트 모드에서 rippled 실행 파일은 다른 rippled 서비스의 클라이언트 역할을 합니다. (이 서비스는 로컬에서 별도의 프로세스에서 실행되는 동일한 실행 파일일 수도 있고 다른 서버의 rippled 서버일 수도 있습니다.)

클라이언트 모드로 실행하려면 rippled된 API 메소드 중 하나에 대한 커맨드라인 구문을 제공합니다.

클라이언트 모드에서는 개별 명령 외에도 일반 옵션과 다음 옵션을 사용할 수 있습니다:

| 옵션                      | 설명                                                                        |
| ----------------------- | ------------------------------------------------------------------------- |
| `--rpc`                 | 서버가 클라이언트 모드로 실행되도록 명시적으로 지정합니다. 필수는 아닙니다.                                |
| `--rpc_ip {IP_ADDRESS}` | 선택적으로 포트 번호를 포함하여 지정된 IP 주소로 rippled 서버에 연결합니다.                           |
| `--rpc_port {PORT}`     | DEPRECATED 지정한 포트에서 리플 서버에 연결합니다. 대신 --rpc\_ip를 사용하여 IP 주소와 함께 포트를 지정합니다. |

{% hint style="info" %}
Tip:

일부 인수는 음수를 값으로 허용합니다. API 명령의 인수가 옵션으로 해석되지 않도록 하려면 명령 이름 앞에 -- 인수를 전달하세요.
{% endhint %}

사용 예(사용 가능한 가장 오래된 ledger 버전부터 사용 가능한 최신 ledger 버전까지 계정 거래 내역 가져오기):

```
rippled -- account_tx r9cZA1mLK5R5Am25ArfXFmqgNwjZgnfk59 -1 -1
```

## 단위 테스트

```
rippled --unittest [OPTIONS]
rippled -u [OPTIONS]
```

단위 테스트는 rippled된 소스 코드에 내장된 테스트를 실행하여 실행 파일이 예상대로 작동하는지 확인합니다. 단위 테스트를 실행한 후 프로세스는 결과 요약을 표시하고 종료합니다. 단위 테스트는 기본 제공 데이터 유형 및 트랜잭션 처리 루틴과 같은 기능을 다룹니다.

단위 테스트에서 실패가 보고되면 일반적으로 다음 중 하나를 나타냅니다:

* rippled을 컴파일할 때 문제가 발생하여 의도한 대로 작동하지 않습니다.
* rippled 소스 코드에 버그가 있습니다.
* 단위 테스트에 버그가 있거나 새로운 동작을 설명하도록 업데이트되지 않았습니다.

단위 테스트를 실행하는 동안 일반 옵션과 다음 옵션 중 하나를 지정할 수 있습니다:

| 옵션                                 | 짧은 버전 | 설명                                                                                                                                                                                                                       |
| ---------------------------------- | ----- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `--unittest-ipv6`                  |       | 단위 테스트를 실행할 때 IPv6를 사용하여 로컬 서버에 연결합니다. 제공되지 않으면 단위 테스트는 대신 IPv4를 사용합니다.[![새로운 기능: Rippled 1.1.0](https://img.shields.io/badge/New%20in-rippled%201.1.0-blue.svg) ](https://github.com/ripple/rippled/releases/tag/1.1.0) |
| `--unittest-jobs {NUMBER_OF_JOBS}` |       | 지정된 수의 프로세스를 사용하여 단위 테스트를 실행합니다. 이를 통해 멀티 코어 시스템에서 테스트 실행을 더 빠르게 완료할 수 있습니다. `{NUMBER_OF_JOBS}`는사용할 프로세스 수를 나타내는 양의 정수여야 합니다 .                                                                                           |
| `--unittest-log`                   |       | --quiet이 지정되어 있어도 단위 테스트가 로그에 기록할 수 있도록 허용합니다. (그렇지 않으면 효과가 없습니다.)                                                                                                                                                       |
| `--quiet`                          | `-q`  | 단위 테스트를 실행할 때 진단 메시지를 더 적게 인쇄합니다.                                                                                                                                                                                        |

## 특정 단위 테스트

```
rippled --unittest={TEST_OR_PACKAGE_NAME}
```

기본적으로 rippled는 "수동"으로 분류된 테스트를 제외한 모든 단위 테스트를 실행합니다. 이름을 지정하여 개별 테스트를 실행하거나 패키지 이름을 지정하여 테스트의 하위 집합을 실행할 수 있습니다.

테스트는 테스트 케이스 이름으로 끝나는 . 문자로 구분된 패키지 계층 구조로 그룹화됩니다.

## 단위 테스트 인쇄

```
rippled --unittest=print
```

인쇄 단위 테스트는 패키지와 함께 사용 가능한 테스트 목록을 인쇄하는 특수한 경우입니다.

## 수동 단위 테스트

특정 단위 테스트는 완료하는 데 시간이 오래 걸리기 때문에 "수동"으로 분류됩니다. 이러한 테스트는 인쇄 단위 테스트의 출력에 |M|으로 표시됩니다. 수동 테스트는 모든 단위 테스트 또는 단위 테스트 패키지를 실행할 때 기본적으로 실행되지 않습니다. 테스트 이름을 지정하여 수동 테스트를 개별적으로 실행할 수 있습니다. 예를 들어:&#x20;

```json
$ ./rippled --unittest=ripple.tx.OversizeMeta
ripple.tx.OversizeMeta
Longest suite times:
   60.9s ripple.tx.OversizeMeta
60.9s, 1 suite, 1 case, 9016 tests total, 0 failures
```

## 단위 테스트에 인수 제공

특정 수동 단위 테스트는 인수를 허용합니다. 다음 옵션을 사용하여 인수를 제공할 수 있습니다:

| 옵션                     | 설명                                                                     |
| ---------------------- | ---------------------------------------------------------------------- |
| `--unittest-arg {ARG}` | `{ARG}`현재 실행 중인 단위 테스트에 인수를 제공합니다. 인수를 허용하는 각 단위 테스트는 자체 인수 형식을 정의합니다. |
